{"version":3,"sources":["Search/Search.tsx","SidePanel/SidePanel.tsx","Crown/Crown.tsx","DemoPage/DemoPage.tsx","App.tsx"],"names":["SearchHistoryLS","className","size","data","this","localStorage","getItem","JSON","parse","setItem","stringify","str","trim","remove","unshift","length","pop","filter","e","Search","dataManager","props","history","state","value","onCloseHandle","preventDefault","stopPropagation","onClose","setState","onSelect","add","onClickHandle","onChange","classNames","SearchLine","type","map","i","key","closable","onClick","historyRender","React","SidePanel","ref","DragCore","offset","forbidList","componentDidMount","bindTrigger","trigger","document","querySelector","addEventListener","style","transform","draggable","onDragStart","onDragEnd","onDragStop","onDragOver","onDrag","onTouchStart","onTouchMove","onTouchEnd","onTouchStop","children","image","Image","component","defaultOffset","transition","direction","pos","startPos","first","isVertical","scrollTop","dragging","addPos","SIZE","event","screenX","changedTouches","screenY","current","dataTransfer","setData","setDragImage","Math","abs","diff","src","Crown","timer","animation","isAnimated","speed","undefined","animate","dest","positive","setValue","getValue","last","requestAnimationFrame","cur","center","clientX","nodeBox","box","getBoundingClientRect","nodes","childNodes","left","width","offsetLeft","scrollLeft","reset","clearTimeout","onScroll","setTimeout","onWheel","components","DemoPage","showComponentBorder","renderCompoent","name","checked","title","Array","subCompoent","counter","n","arr","push","dataSource","links","crownRef","createRef","ReactDOM","render","useState","window","location","pathname","substr","lastIndexOf","setTitle","basename","packageJSON","homepage","selectedKeys","toLowerCase","Item","to","path","placeholder","disabled","getElementById"],"mappings":"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","file":"static/js/main.1cafcd95.chunk.js","sourcesContent":["import * as React from \"react\";\nimport { AutoComplete, Tag } from \"antd\";\nimport \"./Search.css\";\nimport classNames from \"classnames\";\nimport { AutoCompleteProps } from \"antd/lib/auto-complete\";\n\nexport interface SearchProps extends AutoCompleteProps {\n    type?: \"line\" | \"block\";\n    history?: string;\n    historyRender?: Function;\n    onClose?: Function;\n}\n\ninterface SearchState {\n    history: string[];\n    value: string;\n}\n\nclass SearchHistoryLS {\n    size: number;\n    className?: string;\n    data: string[];\n\n    constructor(className?: string, size: number = 10) {\n        this.size = size;\n        this.className = className;\n        if (className) {\n            const data = localStorage.getItem(className);\n            if (!data) {\n                this.data = [];\n                localStorage.setItem(className, JSON.stringify(this.data));\n            } else {\n                this.data = JSON.parse(data);\n            }\n        } else {\n            this.data = [];\n        }\n    }\n\n    add(data: string) {\n        if (this.className) {\n            const str = data.trim();\n            this.remove(str);\n            this.data.unshift(str);\n            this.data.length > this.size && this.data.pop();\n            localStorage.setItem(this.className, JSON.stringify(this.data));\n        }\n    }\n\n    remove(data: string) {\n        this.data = this.data.filter(e => e !== data);\n    }\n}\n\nclass Search extends React.Component<SearchProps, SearchState> {\n    dataManager = new SearchHistoryLS(this.props.history);\n    state = {\n        history: this.dataManager.data,\n        value: \"\"\n    };\n\n    onCloseHandle = (value: string) => {\n        return (e: any) => {\n            e.preventDefault();\n            e.stopPropagation();\n            this.dataManager.remove(value);\n            this.props.onClose && this.props.onClose(e);\n            this.setState({ ...this.state, history: this.dataManager.data });\n        };\n    };\n\n    onSelect = (value: any) => {\n        this.dataManager.add(value);\n        this.props.onSelect && this.props.onSelect(value, {});\n        this.setState({ ...this.state, history: this.dataManager.data, value });\n    };\n\n    onClickHandle = (value: string) => {\n        return () => {\n            this.onSelect(value);\n        };\n    };\n\n    onChange = (value: any) => {\n        this.setState({ ...this.state, value });\n        this.props.onChange && this.props.onChange(value);\n    };\n\n    public render() {\n        return (\n            <div className={classNames(\"Search\", this.props.className)}>\n                <AutoComplete\n                    {...this.props}\n                    onSelect={this.onSelect}\n                    value={this.state.value}\n                    onChange={this.onChange}\n                    className={classNames(\"SearchInput\", {\n                        SearchLine: this.props.type === \"line\"\n                    })}\n                />\n\n                <div className=\"SearchHistory\">\n                    {this.state.history.map((e, i) => (\n                        <Tag\n                            className=\"SearchHistory-tag\"\n                            key={e + i}\n                            closable\n                            onClick={this.onClickHandle(e)}\n                            onClose={this.onCloseHandle(e)}\n                        >\n                            {this.props.historyRender\n                                ? this.props.historyRender(e)\n                                : e}\n                        </Tag>\n                    ))}\n                </div>\n            </div>\n        );\n    }\n}\nexport default Search;\n","import * as React from \"react\";\nimport \"./SidePanel.css\";\nimport classNames from \"classnames\";\nexport interface SidePanelProps {\n    offset: string;\n    trigger?: string;\n    className?: string;\n    forbidList?: string[];\n}\nclass SidePanel extends React.Component<SidePanelProps, any> {\n    ref: React.RefObject<any> = React.createRef();\n    DragCore = new DragCore(this.ref, this.props.offset, this.props.forbidList);\n\n    public render() {\n        return (\n            <div\n                className={classNames(\"SidePanel\", this.props.className)}\n                style={{\n                    transform: `translateX(${this.props.offset}) translate(0,0)`\n                }}\n                ref={this.ref}\n                draggable\n                onDragStart={this.DragCore.onDragStart}\n                onDragEnd={this.DragCore.onDragStop}\n                onDragOver={this.DragCore.onDrag}\n                onTouchStart={this.DragCore.onTouchStart}\n                onTouchMove={this.DragCore.onTouchMove}\n                onTouchEnd={this.DragCore.onTouchStop}\n            >\n                {this.props.children}\n            </div>\n        );\n    }\n\n    public componentDidMount = () => {\n        this.bindTrigger();\n    };\n\n    bindTrigger = () => {\n        if (this.props.trigger) {\n            const trigger = document.querySelector(this.props.trigger);\n            if (trigger) {\n                trigger.addEventListener(\"click\", this.DragCore.trigger);\n            }\n        }\n    };\n}\n\nclass DragCore {\n    image = new Image();\n\n    static SIZE = 3;\n    component: React.RefObject<any>;\n    offset: string;\n    defaultOffset: string;\n    transition: string = \"0.3s transform ease-in-out\";\n    direction: boolean = false;\n\n    // dragging\n    pos: number[][] = [];\n    startPos?: number[];\n\n    // adaptation for scroll functionality\n    first: boolean = true;\n    isVertical: boolean = false;\n    scrollTop: number = 0;\n\n    // adaptation for inside drag component\n    dragging: boolean = false;\n\n    forbidList: string[] = [];\n\n    constructor(\n        ref: React.RefObject<any>,\n        offset: string,\n        forbidList: string[] = []\n    ) {\n        this.component = ref;\n        this.defaultOffset = offset.trim();\n        this.offset = this.defaultOffset;\n        this.image.src =\n            \"data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=\";\n        this.forbidList = forbidList;\n    }\n\n    addPos = (pos: number[]) => {\n        this.pos.unshift(pos);\n        if (this.pos.length > DragCore.SIZE) {\n            this.pos.pop();\n        }\n    };\n\n    onTouchStart = (event: any) => {\n        event.screenX = event.changedTouches[0].screenX;\n        event.screenY = event.changedTouches[0].screenY;\n        this.onDragStart(event);\n    };\n\n    onTouchMove = (event: any) => {\n        event.screenX = event.changedTouches[0].screenX;\n        event.screenY = event.changedTouches[0].screenY;\n        this.onDrag(event);\n    };\n\n    onTouchStop = (event: any) => {\n        this.onDragStop(event);\n    };\n\n    onDragStart = (event: any) => {\n        event && event.stopPropagation();\n        const component = this.component.current;\n        const pos = [event.screenX, event.screenY];\n        this.pos = [];\n        this.startPos = pos;\n        this.addPos(pos);\n        this.first = true;\n        this.dragging = true;\n        if (event.dataTransfer) {\n            // Fix: Firefox draggable issue\n            event.dataTransfer.setData(\"Text\", \"\");\n            event.dataTransfer.setDragImage(this.image, 0, 0);\n        }\n\n        if (component) {\n            this.scrollTop = component.scrollTop;\n            component.style.transition = \"none\";\n        }\n    };\n\n    onDrag = (event: any) => {\n        event && event.stopPropagation();\n        const pos = [event.screenX, event.screenY];\n        const component = this.component.current;\n        if (this.dragging && pos[0] !== 0 && component && this.startPos) {\n            if (this.first) {\n                this.isVertical =\n                    Math.abs(this.pos[0][1] - pos[1]) -\n                        Math.abs(this.pos[0][0] - pos[0]) >\n                    0;\n\n                this.first = false;\n            }\n\n            if (!this.isVertical) {\n                const diff = pos[0] - this.startPos[0];\n                const direction = pos[0] - this.pos[0][0];\n                this.direction =\n                    direction === 0 ? this.direction : direction > 0;\n                this.addPos(pos);\n                component.scrollTop = this.scrollTop;\n                component.style.transform = `translateX(${this.offset}) translate(${diff}px,0)`;\n            }\n        }\n    };\n\n    onDragStop = (event: any) => {\n        event && event.stopPropagation();\n        const component = this.component.current;\n        if (component && this.dragging) {\n            if (!this.direction) {\n                this.offset = this.defaultOffset;\n            } else {\n                this.offset = \"0\";\n            }\n            if (!this.isVertical) {\n                component.scrollTop = this.scrollTop;\n                component.style.transition = this.transition;\n                component.style.transform = `translateX(${this.offset}) translate(0,0)`;\n            }\n            this.dragging = false;\n        }\n    };\n\n    trigger = () => {\n        this.direction = !this.direction;\n        this.dragging = true;\n        const component = this.component.current;\n        this.scrollTop = component ? component.scrollTop : null;\n        this.onDragStop(null);\n    };\n}\n\nexport default SidePanel;\n","import * as React from \"react\";\nimport classNames from \"classnames\";\nimport \"./Crown.css\";\ninterface CrownProps {\n    className?: string;\n    width?: string | number;\n    components: any[];\n    speed?: number;\n}\ninterface CrownState {}\nclass Crown extends React.Component<CrownProps, CrownState> {\n    ref: React.RefObject<any> = React.createRef();\n    timer?: NodeJS.Timeout;\n    animation?: number;\n    isAnimated: boolean = false;\n    speed: number = this.props.speed === undefined ? 10 : this.props.speed;\n\n    animate = (\n        speed: number,\n        dest: number,\n        positive: boolean,\n        setValue: Function,\n        getValue: Function,\n        last?: number\n    ) => {\n        this.isAnimated = true;\n        const component = this.ref.current;\n        if (component) {\n            this.animation = requestAnimationFrame(() => {\n                const cur = getValue();\n                if (last === cur) {\n                    return;\n                }\n                const velocity = positive ? speed : -speed;\n                if ((positive && cur < dest) || (!positive && cur > dest)) {\n                    const value = cur + velocity;\n                    setValue(value);\n                    this.animate(\n                        speed,\n                        dest,\n                        positive,\n                        setValue,\n                        getValue,\n                        cur\n                    );\n                } else {\n                    setValue(dest);\n                    this.isAnimated = false;\n                }\n            });\n        }\n    };\n\n    center = (clientX?: number) => {\n        const component = this.ref.current;\n        if (component) {\n            const box = component.getBoundingClientRect();\n            const nodes = component.childNodes[0].childNodes;\n            const pos =\n                clientX === undefined ? box.left + box.width / 2 : clientX;\n            let nodeBox;\n            for (let i = 0; i < nodes.length; i++) {\n                nodeBox = nodes[i].getBoundingClientRect();\n                if (nodeBox.left >= pos) {\n                    break;\n                }\n            }\n            const offsetLeft =\n                nodeBox.left -\n                box.left +\n                component.scrollLeft -\n                box.width / 2 -\n                nodeBox.width / 2;\n            this.animate(\n                clientX === undefined ? this.speed / 5 : this.speed,\n                offsetLeft,\n                offsetLeft > component.scrollLeft,\n                (value: number) => (component.scrollLeft = value),\n                () => component.scrollLeft\n            );\n        }\n    };\n    onClick = (e: any) => {\n        this.reset();\n        this.center(e.clientX);\n    };\n\n    reset = () => {\n        this.timer !== undefined && clearTimeout(this.timer);\n    };\n\n    onScroll = (e: any) => {\n        this.reset();\n        this.timer = setTimeout(() => {\n            this.center();\n        }, 200);\n    };\n    public render() {\n        return (\n            <div\n                className={classNames(\"Crown\", this.props.className)}\n                style={{ width: this.props.width }}\n                ref={this.ref}\n                onWheel={this.onScroll}\n                // onScroll={this.onScroll}\n            >\n                <div className=\"Crown-wrap\" onClick={this.onClick}>\n                    {this.props.components.map((e, i: number) => {\n                        return (\n                            <div className=\"Crown-element\" key={i}>\n                                {e}\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Crown;\n","import * as React from \"react\";\nimport \"./DemoPage.css\";\nimport { Switch, Divider } from \"antd\";\nimport classNames from \"classnames\";\nexport interface DemoPageProps {\n    className?: string;\n    name: string;\n    components: any[];\n}\n\ninterface DemoPageState {\n    showComponentBorder: boolean;\n}\nclass DemoPage extends React.Component<DemoPageProps, DemoPageState> {\n    state = {\n        showComponentBorder: false\n    };\n\n    renderCompoent = (component: any, key: string) => {\n        return (\n            <div\n                key={key}\n                className={classNames(\n                    \"DemoPage-container\",\n                    {\n                        \"DemoPage-container-bordered\": this.state\n                            .showComponentBorder\n                    },\n                    this.props.className\n                )}\n            >\n                {component}\n            </div>\n        );\n    };\n    public render() {\n        return (\n            <div className={classNames(this.props.className)}>\n                <h1>{this.props.name}</h1>\n                <h3>\n                    Show Component Border :\n                    <Switch\n                        onChange={checked =>\n                            this.setState({ showComponentBorder: checked })\n                        }\n                    ></Switch>\n                </h3>\n                <div className=\"DemoPage-content\">\n                    {this.props.components.map((e, i) => {\n                        return (\n                            <div className=\"DemoPage-subsection\" key={i}>\n                                <div className=\"DemoPage-subsection-content\">\n                                    <h2>{e.title}</h2>\n                                    <Divider />\n                                    <div className=\"DemoPage-subsection-space\">\n                                        {e.component instanceof Array\n                                            ? e.component.map(\n                                                  (\n                                                      subCompoent: any,\n                                                      i: number\n                                                  ) =>\n                                                      this.renderCompoent(\n                                                          subCompoent,\n                                                          `${e.title}-${i}`\n                                                      )\n                                              )\n                                            : this.renderCompoent(\n                                                  e.component,\n                                                  `${e.title}-${0}`\n                                              )}\n                                    </div>\n                                </div>\n                            </div>\n                        );\n                    })}\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DemoPage;\n","import React, { useState, RefObject } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { Search, SidePanel, Crown } from \".\";\nimport { Menu, Tooltip } from \"antd\";\nimport { Button, Slider } from \"antd\";\nimport DemoPage from \"./DemoPage\";\nimport packageJSON from \"../package.json\";\n\nconst counter = (n: number) => {\n    const arr: number[] = [];\n    for (let i = 0; i < n; i++) {\n        arr.push(i);\n    }\n\n    return arr;\n};\nconst data = {\n    Search: {\n        dataSource: counter(10).map(e => \"AutoComplete \" + e)\n    }\n};\n\nconst links = [\"Home\", \"Search\", \"SidePanel\", \"Crown\"];\nconst crownRef: RefObject<any> = React.createRef();\nconst App: React.FC = () => {\n    const [title, setTitle] = useState(\n        window.location.pathname.substr(\n            window.location.pathname.lastIndexOf(\"/\") + 1\n        )\n    );\n    return (\n        <div>\n            <Router basename={packageJSON.homepage}>\n                <SidePanel\n                    offset=\"-250px\"\n                    className=\"navigation\"\n                    trigger=\".menu-btn\"\n                >\n                    <Menu className=\"menu\" selectedKeys={[title.toLowerCase()]}>\n                        {links.map(e => (\n                            <Menu.Item key={e.toLowerCase()}>\n                                <Link to={\"/\" + e} onClick={() => setTitle(e)}>\n                                    {e}\n                                </Link>\n                            </Menu.Item>\n                        ))}\n                    </Menu>\n                    <div className=\"btn-group\">\n                        <Button className=\"menu-btn\">Menu</Button>\n                    </div>\n                </SidePanel>\n                <div className=\"app fixed-layout-content\">\n                    <Switch>\n                        <Route path=\"/Search\">\n                            <DemoPage\n                                className=\"normal\"\n                                name=\"Search\"\n                                components={[\n                                    {\n                                        title: \"Basic Search\",\n                                        component: [\n                                            <Search\n                                                dataSource={\n                                                    data.Search.dataSource\n                                                }\n                                            />,\n                                            <Search\n                                                size=\"large\"\n                                                dataSource={\n                                                    data.Search.dataSource\n                                                }\n                                            />,\n                                            <Search\n                                                size=\"small\"\n                                                dataSource={\n                                                    data.Search.dataSource\n                                                }\n                                            />\n                                        ]\n                                    },\n                                    {\n                                        title: \"Search Line\",\n                                        component: (\n                                            <Search\n                                                type=\"line\"\n                                                dataSource={\n                                                    data.Search.dataSource\n                                                }\n                                            />\n                                        )\n                                    },\n                                    {\n                                        title: \"Search History\",\n                                        component: (\n                                            <Search\n                                                type=\"line\"\n                                                history=\"hisgeomap-example\"\n                                                dataSource={\n                                                    data.Search.dataSource\n                                                }\n                                            />\n                                        )\n                                    }\n                                ]}\n                            />\n                        </Route>\n                        <Route path=\"/SidePanel\">\n                            <DemoPage\n                                className=\"large absolute\"\n                                name=\"SidePanel\"\n                                components={[\n                                    {\n                                        title: \"Basic SidePanel\",\n                                        component: (\n                                            <SidePanel\n                                                offset={\"-80%\"}\n                                                forbidList={[\"ant-slider\"]}\n                                            >\n                                                <div className=\"side-panel-demo\">\n                                                    <Button>Side Panel</Button>\n                                                    <Slider />\n                                                    <Search\n                                                        type=\"line\"\n                                                        placeholder=\"Search\"\n                                                        dataSource={\n                                                            data.Search\n                                                                .dataSource\n                                                        }\n                                                    />\n                                                </div>\n                                            </SidePanel>\n                                        )\n                                    },\n                                    {\n                                        title: \"SidePanel Trigger\",\n                                        component: (\n                                            <SidePanel\n                                                offset={\"-80%\"}\n                                                trigger=\".side-panel-trigger\"\n                                            >\n                                                <div className=\"side-panel-demo\">\n                                                    <Button disabled>\n                                                        Side Panel\n                                                    </Button>\n                                                    <Button className=\"side-panel-trigger\">\n                                                        Trigger\n                                                    </Button>\n                                                </div>\n                                            </SidePanel>\n                                        )\n                                    }\n                                ]}\n                            />\n                        </Route>\n                        <Route path=\"/Crown\">\n                            <DemoPage\n                                name=\"Crown\"\n                                components={[\n                                    {\n                                        title: \"Basic Crown\",\n                                        component: (\n                                            <Crown\n                                                components={counter(20).map(\n                                                    e => (\n                                                        <div className=\"crown-box\">\n                                                            {e}\n                                                        </div>\n                                                    )\n                                                )}\n                                            ></Crown>\n                                        )\n                                    },\n                                    {\n                                        title: \"Crown with ToolTip\",\n                                        component: (\n                                            <Crown\n                                                components={counter(20).map(\n                                                    e => (\n                                                        <div\n                                                            className=\"crown-box\"\n                                                            ref={crownRef}\n                                                        >\n                                                            <Tooltip title=\"Tooltip\">\n                                                                <div className=\"crown-box-content\">\n                                                                    {e}\n                                                                </div>\n                                                            </Tooltip>\n                                                        </div>\n                                                    )\n                                                )}\n                                            ></Crown>\n                                        )\n                                    }\n                                ]}\n                            ></DemoPage>\n                        </Route>\n                    </Switch>\n                </div>\n            </Router>\n        </div>\n    );\n};\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}