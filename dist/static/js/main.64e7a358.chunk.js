!function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["hisgeomap-ui-react"]=e():t["hisgeomap-ui-react"]=e()}(window,(function(){return(window["webpackJsonphisgeomap-ui-react"]=window["webpackJsonphisgeomap-ui-react"]||[]).push([[0],{102:function(t,e,n){t.exports=n(171)},105:function(t,e,n){},170:function(t,e,n){},171:function(t,e,n){"use strict";n.r(e);n(103);var r=n(92),o=n(56),a=n(52),s=n(57),i=n(37),c=n(40),h=n(1),l=n(173),p=n(174),f=(n(105),n(2)),u=n.n(f);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach((function(e){Object(r.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var m=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;if(Object(i.a)(this,t),this.size=void 0,this.className=void 0,this.data=void 0,this.size=n,this.className=e,e){var r=localStorage.getItem(e);r?this.data=JSON.parse(r):(this.data=[],localStorage.setItem(e,JSON.stringify(this.data)))}else this.data=[]}return Object(c.a)(t,[{key:"add",value:function(t){if(this.className){var e=t.trim();this.remove(e),this.data.unshift(e),this.data.length>this.size&&this.data.pop(),localStorage.setItem(this.className,JSON.stringify(this.data))}}},{key:"remove",value:function(t){this.data=this.data.filter((function(e){return e!==t}))}}]),t}(),v=function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(t=Object(a.a)(e)).call.apply(t,[this].concat(s)))).dataManager=new m(n.props.history),n.state={history:n.dataManager.data,value:""},n.onCloseHandle=function(t){return function(e){e.preventDefault(),e.stopPropagation(),n.dataManager.remove(t),n.props.onClose&&n.props.onClose(e),n.setState(g({},n.state,{history:n.dataManager.data}))}},n.onSelect=function(t){n.dataManager.add(t),n.props.onSelect&&n.props.onSelect(t,{}),n.setState(g({},n.state,{history:n.dataManager.data,value:t}))},n.onClickHandle=function(t){return function(e){n.onSelect(t)}},n.onChange=function(t){n.setState(g({},n.state,{value:t})),n.props.onChange&&n.props.onChange(t)},n}return Object(s.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){var t=this;return h.createElement("div",{className:u()("Search",this.props.className)},h.createElement(l.a,Object.assign({},this.props,{onSelect:this.onSelect,value:this.state.value,onChange:this.onChange,className:u()("SearchInput",{SearchLine:"line"===this.props.type})})),h.createElement("div",{className:"SearchHistory"},this.state.history.map((function(e,n){return h.createElement(p.a,{className:"SearchHistory-tag",key:e+n,closable:!0,onClick:t.onClickHandle(e),onClose:t.onCloseHandle(e)},t.props.historyRender?t.props.historyRender(e):e)}))))}}]),e}(h.Component),y=(n(170),function(t){function e(){var t,n;Object(i.a)(this,e);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(t=Object(a.a)(e)).call.apply(t,[this].concat(s)))).ref=h.createRef(),n.DragCore=new S(n.ref,n.props.offset),n.componentDidMount=function(){n.bindTrigger()},n.bindTrigger=function(){if(n.props.trigger){var t=document.querySelector(n.props.trigger);t&&t.addEventListener("click",n.DragCore.trigger)}},n}return Object(s.a)(e,t),Object(c.a)(e,[{key:"render",value:function(){return h.createElement("div",{className:u()("SidePanel",this.props.className),style:{transform:"translateX(".concat(this.props.offset,") translate(0,0)")},ref:this.ref,draggable:!0,onDragStart:this.DragCore.onDragStart,onDrag:this.DragCore.onDrag,onDragEnd:this.DragCore.onDragStop,onTouchStart:this.DragCore.onTouchStart,onTouchMove:this.DragCore.onTouchMove,onTouchEnd:this.DragCore.onTouchStop},this.props.children)}}]),e}(h.Component)),S=function t(e,n){var r=this;Object(i.a)(this,t),this.component=void 0,this.offset=void 0,this.defaultOffset=void 0,this.transition="0.3s transform ease-in-out",this.direction=!1,this.pos=[],this.startPos=void 0,this.first=!0,this.isVertical=!1,this.scrollTop=0,this.dragging=!1,this.addPos=function(e){r.pos.unshift(e),r.pos.length>t.SIZE&&r.pos.pop()},this.onTouchStart=function(t){t.screenX=t.changedTouches[0].screenX,t.screenY=t.changedTouches[0].screenY,r.onDragStart(t)},this.onTouchMove=function(t){t.screenX=t.changedTouches[0].screenX,t.screenY=t.changedTouches[0].screenY,r.onDrag(t)},this.onTouchStop=function(t){r.onDragStop(t)},this.onDragStart=function(e){var n=r.component.current,o=[e.screenX,e.screenY];r.pos=[],r.startPos=o,r.addPos(o),r.first=!0,r.dragging=!0,e.dataTransfer&&e.dataTransfer.setDragImage(t.image,0,0),n&&(r.scrollTop=n.scrollTop,n.style.transition="none")},this.onDrag=function(t){var e=[t.screenX,t.screenY],n=r.component.current;if(r.dragging&&0!==e[0]&&n&&r.startPos&&(r.first&&(r.isVertical=Math.abs(r.pos[0][1]-e[1])-Math.abs(r.pos[0][0]-e[0])>=0,r.first=!1),!r.isVertical)){var o=e[0]-r.startPos[0],a=e[0]-r.pos[0][0];r.direction=0===a?r.direction:a>0,r.addPos(e),n.style.transform="translateX(".concat(r.offset,") translate(").concat(o,"px,0)"),n.scrollTop=r.scrollTop}},this.onDragStop=function(t){var e=r.component.current;r.dragging=!1,!r.direction&&e?r.offset=r.defaultOffset:r.offset="0",r.isVertical||(e.scrollTop=r.scrollTop,e.style.transform="translateX(".concat(r.offset,") translate(0,0)"),e.style.transition=r.transition)},this.trigger=function(){r.direction=!r.direction,r.onDragStop(null)},this.animmate=function(){},this.component=e,this.defaultOffset=n.trim(),this.offset=this.defaultOffset};S.image=document.body.appendChild(document.createElement("div")),S.SIZE=3;var b=y;n.d(e,"Search",(function(){return v})),n.d(e,"SidePanel",(function(){return b}))}},[[102,1,2]]])}));
//# sourceMappingURL=main.64e7a358.chunk.js.map